<!DOCTYPE html>
<html>
<head>
    <META HTTP-EQUIV="Access-Control-Allow-Origin" CONTENT="*">
    <META HTTP-EQUIV="X-Frame-Options" CONTENT="ALLOW-FROM *">
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script crossorigin="anonymous" language="JavaScript">
        const OAUTH_URL = 'https://github.com/login/oauth/authorize?';
        const SCOPE = 'OK';
        const CLIENT_ID = '<client_id>';
        const REDIRECT = 'http://localhost:8080/login.html';
        const TYPE = 'token';
        const _url = OAUTH_URL + 'scope=' + SCOPE + '&client_id=' + CLIENT_ID + '&redirect_uri=' + REDIRECT + '&response_type=' + TYPE;
        let loginWindow;
        window.authSuccess = false;

        function login() {
            window.authSuccess = false;
            loginWindow = window.open(_url, "login", 'width=800, height=600');

            const pollTimer = window.setInterval(function () {
                try {
                    if (window.authSuccess) {
                        window.clearInterval(pollTimer);
                        console.log("login done ");
                        loginWindow.close();
                    }
                } catch (e) {
                    console.log("error ", e);
                }
            }, 500);
        }

    </script>
</head>

<body>
<a href='#' onClick='login();' id='loginText'> Click here to login </a>

<div id='uName'></div>
<img src='' id='imgHolder'/>
</body>
</html>